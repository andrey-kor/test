(this["webpackJsonpreacr-deploy"]=this["webpackJsonpreacr-deploy"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/arrow-left.8974c844.svg"},function(e,t,a){e.exports=a.p+"static/media/arrow-right.c4a46511.svg"},function(e,t,a){e.exports=a.p+"static/media/clock.caa9e924.svg"},function(e,t,a){e.exports=a.p+"static/media/burger.c8c669ff.svg"},function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),c=a.n(l),i=(a(19),a(1)),o=(a(20),a(2));var u=function(e){var t=e.setUser;function a(e){var t=document.querySelector(".popup__error");e.classList.remove("invalid"),e.classList.add("valid"),t.innerHTML=""}function n(e){e.classList.remove("valid"),e.classList.add("invalid")}function l(e,t){var r=document.getElementById(e),l=document.querySelector(".popup__error");switch(e){case"inputName":/^([\u0430-\u044F\u1C80-\u1C86]+|[a-z\u017F\u212A]+)$/i.test(t)?a(r):(n(r),l.innerHTML="\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b");break;case"inputDate":var c=t.slice(0,4),i=(new Date).getFullYear();c>1920&&c<i?a(r):(n(r),l.innerHTML="\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0451\u043d\u043d\u043e\u0439 \u0434\u0430\u0442\u044b");break;case"inputGrowth":t>50&&t<220?a(r):(n(r),l.innerHTML="\u0420\u043e\u0441\u0442 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 50 \u0438 \u0431\u043e\u043b\u044c\u0448\u0435 220 \u0441\u043c");break;case"inputWeight":t>20&&t<200?a(r):(n(r),l.innerHTML="\u0412\u0435\u0441 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 20 \u0438 \u0431\u043e\u043b\u044c\u0448\u0435 200 \u043a\u0433");break;default:console.log("can't find classes inputs")}}function c(e){e.preventDefault();var a,n,r=document.querySelectorAll(".popup__form input"),l=0,c=Object(o.a)(r);try{for(c.s();!(a=c.n()).done;){var i=a.value;if(/invalid/.test(i.className))return void(document.querySelector(".popup__error").innerHTML="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0438\u0441\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f");l+=1}}catch(u){c.e(u)}finally{c.f()}if(console.log("valid",l),6===l){t({name:document.querySelector("#inputName").value,sex:document.querySelector("#inputSex")?"\u043c":"\u0436",dateBirth:(n=document.querySelector("#inputDate").value,"".concat(n.slice(8,10),".").concat(n.slice(5,7),".").concat(n.slice(0,4))),weight:document.querySelector("#inputWeight").value,growth:document.querySelector("#inputGrowth").value}),document.querySelector(".popup__outer").style.opacity="0",setTimeout((function(){document.querySelector(".popup__outer").style.display="none"}),500)}}return e.user,window.addEventListener("load",(function(){document.querySelector(".popup__form").addEventListener("submit",c)})),r.a.createElement("div",{className:"popup__outer"},r.a.createElement("div",{className:"popup__wrapper"},r.a.createElement("form",{className:"popup__form"},r.a.createElement("div",{className:"input__wrapper"},r.a.createElement("span",{className:"input-text"},"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f:"),r.a.createElement("input",{id:"inputName",type:"text",placeholder:"\u0418\u043c\u044f",required:!0,autoComplete:"off",className:"popup-input input-name",onChange:function(e){l(e.target.id,e.target.value)}})),r.a.createElement("div",{className:"input__wrapper"},r.a.createElement("span",{className:"input-text"},"\u041f\u043e\u043b:"),r.a.createElement("div",{className:"span-wrapper"},r.a.createElement("div",null,r.a.createElement("input",{name:"sex",id:"inputSex",type:"radio",value:"\u043c",required:!0,autoComplete:"off",className:"input-sex"}),"\u043c"),r.a.createElement("div",null,r.a.createElement("input",{name:"sex",id:"inputSex",type:"radio",value:"\u0436",required:!0,autoComplete:"off",className:"input-sex"}),"\u0436"))),r.a.createElement("div",{className:"input__wrapper"},r.a.createElement("span",{className:"input-text"},"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f:"),r.a.createElement("input",{id:"inputDate",type:"date",required:!0,className:"popup-input input-date",onBlur:function(e){l(e.target.id,e.target.value)}})),r.a.createElement("div",{className:"input__wrapper"},r.a.createElement("span",{className:"input-text"},"\u0420\u043e\u0441\u0442:"),r.a.createElement("input",{id:"inputGrowth",type:"text",required:!0,autoComplete:"off",placeholder:"\u0420\u043e\u0441\u0442, \u0441\u043c",className:"popup-input input-growth",onBlur:function(e){l(e.target.id,e.target.value)}})),r.a.createElement("div",{className:"input__wrapper"},r.a.createElement("span",{className:"input-text"},"\u0412\u0435\u0441:"),r.a.createElement("input",{id:"inputWeight",type:"text",required:!0,autoComplete:"off",placeholder:"\u0412\u0435\u0441, \u043a\u0433",className:"popup-input input-weight",onBlur:function(e){l(e.target.id,e.target.value)}})),r.a.createElement("span",{className:"popup__error"}),r.a.createElement("button",{className:"popup__buttonSend"},"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c"))))};var s=function(e){var t=e.user,a=0,n=0;return r.a.createElement("div",{className:"block userBlock"},r.a.createElement("p",{className:"subtitle"},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),r.a.createElement("p",null,t.name,", ",t.dateBirth),r.a.createElement("p",null,"\u0420\u043e\u0441\u0442: ",t.growth," \u0441\u043c."),r.a.createElement("p",null,"\u0412\u0435\u0441: ",t.weight," \u043a\u0433."),r.a.createElement("p",null,"\u0412\u043e\u0437\u0440\u0430\u0441\u0442: ",function(e){var t=[];t.push((new Date).getDate(),(new Date).getMonth()+1,(new Date).getFullYear());var n=e.dateBirth.split(".");return a=t[2]-n[2],(t[1]<n[1]||t[1]===n[1]&t[0]<n[0])&&(a-=1),a+function(e){return e%10===1&&11!==e?" \u0433\u043e\u0434":e%10>=2&&e%10<=4&&12!==e&&13!==e&&14!==e?" \u0433\u043e\u0434\u0430":" \u043b\u0435\u0442"}(a)}(t)),r.a.createElement("p",null,"\u041d\u043e\u0440\u043c\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u044f: ",r.a.createElement("span",{id:"calories_norm"},function(e){return"\u043c"===e.sex?function(e){return n=Math.round(66+13.7*e.weight+5*e.growth-6.76*a),delete localStorage.caloriesNorm,sessionStorage.setItem("caloriesNorm",n),n}(e):"\u0436"===e.sex?function(e){return n=Math.round(655+9.6*e.weight+1.8*e.growth-4.7*a),delete localStorage.caloriesNorm,sessionStorage.setItem("caloriesNorm",n),n}(e):" \u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u0447\u0438\u0442\u0430\u0442\u044c - \u043e\u0448\u0438\u0431\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 "}(t))," \u043a\u041a\u0430\u043b"))},m=a(6),d=a(4),p=a(7),v=a(10),f=a.n(v),g=a(11),E=a.n(g);var h=function(e){var t=new Date;return t.setDate(t.getDate()-e),"".concat(["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"][t.getDay()],", ").concat(t.getDate()<10?"0".concat(t.getDate()):t.getDate(),".").concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,".").concat(t.getFullYear())};var y=function(e){var t=e.changeCurrantDay,a=e.currentDayIndex;return r.a.createElement("div",{className:"dateNav__wrapper"},r.a.createElement("div",{className:"dateNav__button button-left",onClick:function(){return t("left")}},r.a.createElement("div",{className:"wrapper__arrow-left"},r.a.createElement("img",{className:"dateNav__arrow",src:f.a,alt:"arrow-left"}))),r.a.createElement("span",null,h(a)),r.a.createElement("div",{className:"dateNav__button button-right",onClick:function(){return t("right")}},r.a.createElement("div",{className:"wrapper__arrow-right"},r.a.createElement("img",{className:"dateNav__arrow img-right",src:E.a,alt:"arrow-right"}))))};var N=function(e){var t=e.eatingItem,a=e.rmItem,n=e.id;return r.a.createElement("li",{className:"li"},r.a.createElement("button",{className:"buttonRm",onClick:function(){return a(t.id)}},"\xd7"),r.a.createElement("strong",{className:"liNum"},n+1+"."),r.a.createElement("span",{className:"eating-time"},t.time),r.a.createElement("span",null,t.kal),r.a.createElement("span",null,"\xa0\u043a\u041a\u0430\u043b"))};var w=function(e){var t=e.currentDay,a=e.rmItem;return r.a.createElement("ul",{className:"eatingItem-list"},t.eating.map((function(e,t){return r.a.createElement(N,{eatingItem:e,key:Object(p.a)(),rmItem:a,id:t})})))};var b=function(e){var t=e.currentDay.eating,a=0;return function(e){var t,n=Object(o.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;a+=+r.kal}}catch(l){n.e(l)}finally{n.f()}}(t),a>5e3&&alert("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0441\u043c\u043e\u0433\u043b\u0438 \u0441\u0442\u043e\u043b\u044c\u043a\u043e \u0441\u044a\u0435\u0441\u0442\u044c? \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0445"),r.a.createElement("div",{className:"eatingSum"},r.a.createElement("h3",null," \u0418\u0442\u043e\u0433\u043e \u0437\u0430 \u0434\u0435\u043d\u044c: "),r.a.createElement("span",{className:"eatingSum__num",style:a<=+sessionStorage.getItem("caloriesNorm")?{color:"green"}:{color:"red"}}," ",a," "),r.a.createElement("span",null,"\xa0\u043a\u041a\u0430\u043b"))};var _=function(e,t){var a=document.getElementById("inputTime"),n=document.getElementById("inputKal"),r=document.querySelector(".form__button"),l=document.querySelector(".errorTime"),c=document.querySelector(".errorKal");switch(e){case"inputTime":console.log("inputTime"),/^(([0,1][0-9])|(2[0-3])):[0-5][0-9]$/.test(t)?(l.innerHTML="",a.classList.remove("invalid"),a.classList.add("valid")):(l.innerHTML=" \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0427\u0427:\u041c\u041c, \u0438\u043b\u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430.",a.classList.remove("valid"),a.classList.add("invalid"),r.classList.add("buttonOf"));break;case"timeMenu":console.log("aaa"),l.innerHTML="",a.classList.remove("invalid"),a.classList.add("valid");break;case"inputKal":console.log("inputKal"),/^\d+$/.test(t)?(c.innerHTML="",n.classList.remove("invalid"),n.classList.add("valid")):(c.innerHTML=" \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e \u0432 \u043f\u043e\u043b\u0435 \u0434\u043b\u044f \u0432\u0432\u043e\u0434\u0430 \u043a\u0430\u043b\u043e\u0440\u0438\u0439\u043d\u043e\u0441\u0442\u0438.",n.classList.remove("valid"),n.classList.add("invalid"),r.classList.add("buttonOf"));break;default:console.log("Error, can't find validation element")}!/invalid/.test(a.className)&!/invalid/.test(n.className)&&r.classList.remove("buttonOf"),document.querySelector(".form__button").addEventListener("click",(function(e){/invalid/.test(a.className)||/invalid/.test(n.className)?e.preventDefault():(n.classList.remove("valid"),a.classList.remove("valid"))}))};var S=function(e){var t=e.setTime;return r.a.createElement("div",{className:"timeMenu"},function(e){return r.a.createElement("ul",{className:"timeMenu-ul"},e.map((function(e){return r.a.createElement("li",{id:"timeMenu",className:"timeMenu-li",key:e.id,onClick:function(e){t(e.target.innerHTML),_(e.target.id,e.target.value)}},e.value)})))}([{id:0,value:"00:00"},{id:1,value:"01:00"},{id:2,value:"02:00"},{id:3,value:"03:00"},{id:4,value:"04:00"},{id:5,value:"05:00"},{id:6,value:"06:00"},{id:7,value:"07:00"},{id:8,value:"08:00"},{id:9,value:"09:00"},{id:10,value:"10:00"},{id:11,value:"11:00"},{id:12,value:"12:00"},{id:13,value:"13:00"},{id:14,value:"14:00"},{id:15,value:"15:00"},{id:16,value:"16:00"},{id:17,value:"17:00"},{id:18,value:"18:00"},{id:19,value:"19:00"},{id:20,value:"20:00"},{id:21,value:"21:00"},{id:22,value:"22:00"},{id:23,value:"23:00"}]))},L=a(12),k=a.n(L),x=a(13),M=a.n(x);var q=function(e){var t=e.onCreate,a=Object(n.useState)(""),l=Object(i.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(""),s=Object(i.a)(u,2),m=s[0],d=s[1];function p(e){e.placeholder=""}return r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("form",{className:"form__addEatingItem",onSubmit:function(e){e.preventDefault(),c.trim()&&m.trim()&&(t(c,m),o(""),d(""))}},r.a.createElement("div",{className:"wrapper-inputItemBlock"},r.a.createElement("img",{src:k.a,className:"imageClock",alt:"arrow left"}),r.a.createElement("div",{className:"time__wrapper"},r.a.createElement("input",{id:"inputTime",className:"addEatingItem-time",placeholder:"\u0432\u0440\u0435\u043c\u044f",value:c,autoComplete:"off",required:!0,onChange:function(e){o(e.target.value),_(e.target.id,e.target.value)},onFocus:function(e){p(e.target),document.querySelector(".timeMenu").style.display="block"}}),document.addEventListener("click",(function(e){"inputTime"!==e.target.id&&(document.querySelector(".timeMenu").style.display="none")})),r.a.createElement(S,{setTime:o}))),r.a.createElement("div",{className:"wrapper-inputItemBlock"},r.a.createElement("img",{src:M.a,className:"imageEat",alt:"arrow right"}),r.a.createElement("input",{id:"inputKal",className:"addEatingItem-kal",placeholder:"\u043a\u041a\u0430\u043b",value:m,autoComplete:"off",required:!0,onChange:function(e){d(e.target.value),_(e.target.id,e.target.value)},onFocus:function(e){return p(e.target)}})),r.a.createElement("button",{className:"form__button"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),r.a.createElement("div",null,r.a.createElement("span",{className:"errorTime"}),r.a.createElement("span",{className:"errorKal"})))};var I=function(e){var t=document.querySelector("#canvas"),a=t.getContext("2d");t.height="250";var n=+sessionStorage.getItem("caloriesNorm"),r=e.map((function(e){var t,a=0,n=Object(o.a)(e.eating);try{for(n.s();!(t=n.n()).done;){a+=+t.value.kal}}catch(r){n.e(r)}finally{n.f()}return a}));r.reverse();var l=Math.max.apply(null,r),c=t.height,i=t.width,u=n/(l/(c-30)),s=50*r.length,m=0;!function(){var t=0;s>i&&(m=-(s-i));if(a.clearRect(0,0,i,c),a.translate(m,c),a.rotate(-Math.PI/2),a.fillStyle="rgb(231, 80, 80)",a.fillRect(u+20,0,2,s>i?s:i),0!==l){var d,p=0,v=Object(o.a)(r);try{for(v.s();!(d=v.n()).done;){var f=d.value;a.fillStyle=f<=n?"rgb(120, 212, 120)":"rgb(231, 80, 80)",a.font="16px Tahoma";var g=f/(l/(c-30));a.fillRect(20,t+10,g<2?2:g,20),a.rotate(Math.PI/2),a.fillStyle="#000000",a.fillText("".concat(e[r.length-1-p].date.slice(4,9)),t,0),a.rotate(-Math.PI/2),a.fillStyle="#000000",a.fillText("".concat(f),g<45?g+25:g-20,t+25),t+=50,p++}}catch(E){v.e(E)}finally{v.f()}}else a.rotate(Math.PI/2),a.font="16px Tahoma",a.fillStyle="#000000",a.fillText(i<390?"\u041c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0433\u0440\u0430\u0444\u0438\u043a\u0430":"\u0417\u0434\u0435\u0441\u044c \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0433\u0440\u0430\u0444\u0438\u043a, \u043a\u0430\u043a \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u044b \u0432\u0432\u0435\u0434\u0451\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f",0,-c/2),a.rotate(-Math.PI/2);a.rotate(Math.PI/2),a.translate(-m,-c)}()};var O=function(){var e=Object(n.useState)(0),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([{id:0,date:h(a),eating:[]}]),o=Object(i.a)(c,2),u=o[0],s=o[1];function v(){document.querySelector("#canvas").width=String(document.querySelector(".block").clientWidth)-40,I(u)}return window.addEventListener("load",(function(){I(u)})),window.addEventListener("load",v),window.addEventListener("resize",v),u.length<a+1&&function(){var e=[].concat(Object(d.a)(u),[{id:u.length,date:h(a),eating:[]}]);console.log("newDays",e),s(u=e),I(u)}(),r.a.createElement("div",{className:"block eatingBlock"},r.a.createElement("p",{className:"subtitle"},"\u041f\u0440\u0438\u0451\u043c\u044b \u043f\u0438\u0449\u0438"),r.a.createElement(y,{changeCurrantDay:function(e){var t=document.querySelector(".img-right").style;"left"===e?(a=l(a+=1),1!==t.opacity&&(t.opacity=1)):0===a?t.opacity=.5:l(a-=1)},currentDayIndex:a}),r.a.createElement(q,{onCreate:function(e,t){var n=u[a].eating.concat({id:u[a].eating.length,time:e,kal:t,key:Object(p.a)()}),r=[].concat(Object(d.a)(u.slice(0,a)),[Object(m.a)(Object(m.a)({},u[a]),{},{eating:n})],Object(d.a)(u.slice(a+1)));console.log("result",r),r[a].eating.sort((function(e,t){return e.time>t.time?1:-1})),s(u=r),I(u)}}),u[a].eating.length>0?r.a.createElement(w,{currentDay:u[a],rmItem:function(e){var t=u[a].eating.filter((function(t){return t.id!==e})),n=[].concat(Object(d.a)(u.slice(0,a)),[Object(m.a)(Object(m.a)({},u[a]),{},{eating:t})],Object(d.a)(u.slice(a+1)));s(u=n),I(u)}}):r.a.createElement("p",{style:{color:"#292522"}},"\u0414\u0430\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0440\u0438\u0451\u043c \u043f\u0438\u0449\u0438"),r.a.createElement(b,{currentDay:u[a]}))};var D=function(){return r.a.createElement("div",{className:"canvasBlock"},r.a.createElement("div",{className:"canvas-wrapper"},r.a.createElement("canvas",{id:"canvas"},"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0433\u0440\u0430\u0444\u0438\u043a, \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 Canvas")))};var T=function(){var e=Object(n.useState)({name:"Andrey",sex:"\u043c",dateBirth:"15.03.1997",weight:78,growth:189}),t=Object(i.a)(e,2),a=t[0],l=t[1];return r.a.createElement("div",{className:"wrapper"},r.a.createElement("h1",null,"Calory App"),r.a.createElement(u,{setUser:l,user:a}),r.a.createElement(s,{user:a}),r.a.createElement(O,null),r.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[14,1,2]]]);
//# sourceMappingURL=main.8c8dd7a3.chunk.js.map